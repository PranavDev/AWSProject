{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "MyApp template",
    "Parameters": {
        "VPCCIDR": {
            "Description": "MyApp VPC",
            "Type": "String",
            "Default": "10.192.0.0/16"
        },
        "PublicSubnet1CIDR": {
            "Description": "MyApp Public Subnet 1",
            "Type": "String",
            "Default": "10.192.1.0/24"
        },
        "PrivateSubnet1CIDR": {
            "Description": "MyApp Private Subnet 1",
            "Type": "String",
            "Default": "10.192.2.0/24"
        },
        "PrivateSubnet2CIDR": {
            "Description": "MyApp Private Subnet 2",
            "Type": "String",
            "Default": "10.192.3.0/24"
        },
        "PublicSubnet2CIDR": {
            "Description": "MyApp Public Subnet 2",
            "Type": "String",
            "Default": "10.192.4.0/24"
        },
        "PrivateSubnet3CIDR": {
            "Description": "MyApp Private Subnet 3",
            "Type": "String",
            "Default": "10.192.5.0/24"
        },
        "PrivateSubnet4CIDR": {
            "Description": "MyApp Private Subnet 4",
            "Type": "String",
            "Default": "10.192.6.0/24"
        },
        "KeyName": {
            "Description": "MyApp-PranavDeo",
            "Type": "AWS::EC2::KeyPair::KeyName",
            "Default": "MyApp-PranavDeo",
            "ConstraintDescription": "MyApp-PranavDeo"
        },
        "InstanceType": {
            "Description": "EC2 Instance",
            "Type": "String",
            "Default": "t2.micro"
        },
        "AmiId": {
            "Description": "Ubuntu 20.04 LTS AMI Id",
            "Type": "String",
            "Default": "ami-042e8287309f5df03"
        },
        "SSHLocation": {
            "Description": "Addresses from where one could get into an instance",
            "Type": "String",
            "MinLength": 9,
            "MaxLength": 18,
            "Default": "0.0.0.0/0",
            "AllowedPattern": "(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})/(\\d{1,2})",
            "ConstraintDescription": "Must be of a valid IP CIDR range of the form x.x.x.x/x."
        },
        "DBName": {
            "Default": "netflix",
            "Description": "MyRDSMySQLDB",
            "Type": "String",
            "MinLength": 1,
            "MaxLength": 16,
            "AllowedPattern": "[a-zA-Z][a-zA-Z0-9]*",
            "ConstraintDescription": "Must begin with a letter and contain only alphanumeric characters."
        },
        "DBInstanceID01": {
            "Default": "netflixDB01",
            "Description": "My database instance",
            "Type": "String",
            "MinLength": 1,
            "MaxLength": 63,
            "AllowedPattern": "[a-zA-Z][a-zA-Z0-9]*",
            "ConstraintDescription": "Must begin with a letter and contain only alphanumeric characters."
        },
        "DBInstanceID02": {
            "Default": "netflixDB02",
            "Description": "My database instance",
            "Type": "String",
            "MinLength": 1,
            "MaxLength": 63,
            "AllowedPattern": "[a-zA-Z][a-zA-Z0-9]*",
            "ConstraintDescription": "Must begin with a letter and contain only alphanumeric characters."
        },
        "MyBucketName": {
            "Type": "String",
            "Description": "AWS Bucket Name",
            "Default": "netflix-aws-bucket02"
        },
        "BillingThreshold": {
            "Type": "Number",
            "Description": "The max value in $$ for the Bill",
            "Default": 2
        },
        "AccountHolder": {
            "Type": "String",
            "Description": "The Account Holder Name",
            "Default": "PranavHDeo"
        },
        "AccHolderEmailID": {
            "Type": "String",
            "Description": "The Account Holder's Email Address",
            "Default": "phd24@umd.edu"
        }
    },
    "Resources": {
        "InboundRule01": {
            "Type": "AWS::EC2::NetworkAclEntry",
            "Properties": {
                "NetworkAclId": {
                    "Fn::GetAtt": [
                        "MyAppVPC",
                        "DefaultNetworkAcl"
                    ]
                },
                "RuleNumber": 105,
                "Protocol": 6,
                "RuleAction": "allow",
                "CidrBlock": "0.0.0.0/0",
                "PortRange": {
                    "From": 5000,
                    "To": 5000
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "ee2d7429-0834-4072-8770-c56db986f9bc"
                }
            }
        },
        "InboundRule02": {
            "Type": "AWS::EC2::NetworkAclEntry",
            "Properties": {
                "NetworkAclId": {
                    "Fn::GetAtt": [
                        "MyAppVPC",
                        "DefaultNetworkAcl"
                    ]
                },
                "RuleNumber": 110,
                "Protocol": 6,
                "RuleAction": "allow",
                "CidrBlock": "0.0.0.0/0",
                "PortRange": {
                    "From": 80,
                    "To": 80
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "c5cec6ff-71b7-4b32-83b7-5225390c58d5"
                }
            }
        },
        "OnlyBashSecurityGroup": {
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": {
                "VpcId": {
                    "Ref": "MyAppVPC"
                },
                "GroupDescription": "SSH port 22",
                "SecurityGroupIngress": [
                    {
                        "IpProtocol": "tcp",
                        "FromPort": 22,
                        "ToPort": 22,
                        "CidrIp": {
                            "Ref": "SSHLocation"
                        }
                    }
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-PrivateInstanceSecurityGroup"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "f87c6662-e011-4a63-b6e4-e635179fd965"
                }
            }
        },
        "WebServerSecurityGroup": {
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": {
                "VpcId": {
                    "Ref": "MyAppVPC"
                },
                "GroupDescription": "SSH port 22; TCP port 80, 3306 and 5000",
                "SecurityGroupIngress": [
                    {
                        "IpProtocol": "tcp",
                        "FromPort": 22,
                        "ToPort": 22,
                        "CidrIp": "10.192.0.0/16"
                    },
                    {
                        "IpProtocol": "tcp",
                        "FromPort": 80,
                        "ToPort": 80,
                        "CidrIp": {
                            "Ref": "SSHLocation"
                        }
                    },
                    {
                        "IpProtocol": "tcp",
                        "FromPort": 5000,
                        "ToPort": 5000,
                        "CidrIp": {
                            "Ref": "SSHLocation"
                        }
                    },
                    {
                        "IpProtocol": "tcp",
                        "FromPort": 3306,
                        "ToPort": 3306,
                        "CidrIp": {
                            "Ref": "SSHLocation"
                        }
                    }
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-WebServerSecurityGroup"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "73452c8c-5524-4645-96da-3c168f794179"
                }
            }
        },
        "MyAppIAMRole": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "RoleName": "MyApp-EC2-S3-RDS",
                "Description": "IAM role for EC2, S3 and RDS Access",
                "AssumeRolePolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                        {
                            "Effect": "Allow",
                            "Principal": {
                                "Service": [
                                    "ec2.amazonaws.com"
                                ]
                            },
                            "Action": [
                                "sts:AssumeRole"
                            ]
                        }
                    ]
                },
                "Path": "/",
                "ManagedPolicyArns": [
                    "arn:aws:iam::111330348485:policy/MyApp-Policy"
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "ddd82a32-d85d-4a49-bf2f-f6dca60cd4d3"
                }
            }
        },
        "MyAppInstanceProfile": {
            "Type": "AWS::IAM::InstanceProfile",
            "Properties": {
                "Path": "/",
                "Roles": [
                    {
                        "Ref": "MyAppIAMRole"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "5e008fcb-1f86-4ced-b5c5-fbd7ccf1b9b1"
                }
            }
        },
        "MyAppVPC": {
            "Type": "AWS::EC2::VPC",
            "Properties": {
                "CidrBlock": {
                    "Ref": "VPCCIDR"
                },
                "EnableDnsSupport": true,
                "EnableDnsHostnames": true,
                "InstanceTenancy": "default",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-VPC"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                }
            }
        },
        "MyAppPublicSubnet1": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "MyAppVPC"
                },
                "AvailabilityZone": "us-east-1a",
                "CidrBlock": {
                    "Ref": "PublicSubnet1CIDR"
                },
                "MapPublicIpOnLaunch": true,
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-PublicSubnet1"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "5aabf9b2-eb28-46fe-9d37-1bea05d67ca9"
                }
            }
        },
        "MyAppPublicSubnet2": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "MyAppVPC"
                },
                "AvailabilityZone": "us-east-1b",
                "CidrBlock": {
                    "Ref": "PublicSubnet2CIDR"
                },
                "MapPublicIpOnLaunch": true,
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-PublicSubnet2"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "7f88c590-df98-40b8-a8c6-523449a64a78"
                }
            }
        },
        "MyAppPrivateSubnet1": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "MyAppVPC"
                },
                "AvailabilityZone": "us-east-1a",
                "CidrBlock": {
                    "Ref": "PrivateSubnet1CIDR"
                },
                "MapPublicIpOnLaunch": true,
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-PrivateSubnet1"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "40d33314-30f1-49be-9b89-3276c85adab0"
                }
            }
        },
        "MyAppPrivateSubnet2": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "MyAppVPC"
                },
                "AvailabilityZone": "us-east-1a",
                "CidrBlock": {
                    "Ref": "PrivateSubnet2CIDR"
                },
                "MapPublicIpOnLaunch": true,
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-PrivateSubnet2"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "7f106419-9744-4f5a-9bcd-86be120efaf3"
                }
            }
        },
        "MyAppPrivateSubnet3": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "MyAppVPC"
                },
                "AvailabilityZone": "us-east-1b",
                "CidrBlock": {
                    "Ref": "PrivateSubnet3CIDR"
                },
                "MapPublicIpOnLaunch": true,
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-PrivateSubnet3"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "a8ecdd0b-2da7-4640-af72-62bb77de5343"
                }
            }
        },
        "MyAppPrivateSubnet4": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "MyAppVPC"
                },
                "AvailabilityZone": "us-east-1b",
                "CidrBlock": {
                    "Ref": "PrivateSubnet4CIDR"
                },
                "MapPublicIpOnLaunch": true,
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-PrivateSubnet4"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "f20856d5-e0d2-458e-ac65-9e2345befa6f"
                }
            }
        },
        "MyAppInternetGateway": {
            "Type": "AWS::EC2::InternetGateway",
            "Properties": {
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-InternetGateway"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0935690f-44b1-488f-bb9f-b768e12e723d"
                }
            }
        },
        "MyAppVPCGatewayAtt": {
            "Type": "AWS::EC2::VPCGatewayAttachment",
            "Properties": {
                "InternetGatewayId": {
                    "Ref": "MyAppInternetGateway"
                },
                "VpcId": {
                    "Ref": "MyAppVPC"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "995b0632-440d-4f3a-998a-cb3368487300"
                }
            }
        },
        "MyAppPublicRouteTable": {
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "VpcId": {
                    "Ref": "MyAppVPC"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-Public-RouteTable"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "7a182726-16af-48bc-9ed0-e15de69fa219"
                }
            }
        },
        "MyAppPublicRoute": {
            "Type": "AWS::EC2::Route",
            "DependsOn": "MyAppVPCGatewayAtt",
            "Properties": {
                "RouteTableId": {
                    "Ref": "MyAppPublicRouteTable"
                },
                "DestinationCidrBlock": "0.0.0.0/0",
                "GatewayId": {
                    "Ref": "MyAppInternetGateway"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "fe902cd8-6e85-4377-a9b9-5f0fd3b7b48a"
                }
            }
        },
        "PublicSubnet1RouteTableAssociation": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "MyAppPublicSubnet1"
                },
                "RouteTableId": {
                    "Ref": "MyAppPublicRouteTable"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "6895df54-7abc-44e8-92dd-9c64ebad87e3"
                }
            }
        },
        "PublicSubnet2RouteTableAssociation": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "MyAppPublicSubnet2"
                },
                "RouteTableId": {
                    "Ref": "MyAppPublicRouteTable"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "87634953-707b-4ece-8497-01857875a50c"
                }
            }
        },
        "PrivateSubnet1RouteTableAssociation": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "MyAppPrivateSubnet1"
                },
                "RouteTableId": {
                    "Ref": "MyAppPublicRouteTable"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0ba59ff7-5081-4e36-a529-2bbd0fe5776c"
                }
            }
        },
        "PrivateSubnet3RouteTableAssociation": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "MyAppPrivateSubnet3"
                },
                "RouteTableId": {
                    "Ref": "MyAppPublicRouteTable"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "cb9d8afc-f1a0-417b-b36f-d430a66f60eb"
                }
            }
        },
        "MyAppLaunchTemplate01": {
            "Type": "AWS::EC2::LaunchTemplate",
            "Properties": {
                "LaunchTemplateName": "MyAppLT01",
                "LaunchTemplateData": {
                    "IamInstanceProfile": {
                        "Arn": {
                            "Fn::GetAtt": [
                                "MyAppInstanceProfile",
                                "Arn"
                            ]
                        }
                    },
                    "DisableApiTermination": true,
                    "ImageId": {
                        "Ref": "AmiId"
                    },
                    "InstanceType": {
                        "Ref": "InstanceType"
                    },
                    "KeyName": {
                        "Ref": "KeyName"
                    },
                    "SecurityGroupIds": [
                        {
                            "Fn::GetAtt": [
                                "OnlyBashSecurityGroup",
                                "GroupId"
                            ]
                        }
                    ],
                    "Monitoring": {
                        "Enabled": true
                    },
                    "UserData": {
                        "Fn::Base64": "#!/bin/bash\napt-get update\napt-get -y upgrade\napt install -y apache2\napt-get install php libapache2-mod-php php-mysql php-curl php-gd php-json php-zip php-mbstring\nservice apache2 restart\napt-get install -y mysql-server\napt install -y apt-transport-https ca-certificates curl software-properties-common\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\nadd-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable\"\napt-get update\napt install -y docker-ce\ndocker pull pdeo2020/awsproject:v06\ndocker run -d --name netflix -p 5000:5000 pdeo2020/awsproject:v06\n"
                    },
                    "TagSpecifications": [
                        {
                            "ResourceType": "instance",
                            "Tags": [
                                {
                                    "Key": "Name",
                                    "Value": "MyApp-EC2-LT01"
                                }
                            ]
                        }
                    ]
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0db2cfbc-12f4-41c4-845d-462227997c86"
                }
            }
        },
        "MyAppLaunchTemplate02": {
            "Type": "AWS::EC2::LaunchTemplate",
            "Properties": {
                "LaunchTemplateName": "MyAppLT02",
                "LaunchTemplateData": {
                    "IamInstanceProfile": {
                        "Arn": {
                            "Fn::GetAtt": [
                                "MyAppInstanceProfile",
                                "Arn"
                            ]
                        }
                    },
                    "DisableApiTermination": true,
                    "ImageId": {
                        "Ref": "AmiId"
                    },
                    "InstanceType": {
                        "Ref": "InstanceType"
                    },
                    "KeyName": {
                        "Ref": "KeyName"
                    },
                    "SecurityGroupIds": [
                        {
                            "Fn::GetAtt": [
                                "WebServerSecurityGroup",
                                "GroupId"
                            ]
                        }
                    ],
                    "Monitoring": {
                        "Enabled": true
                    },
                    "UserData": {
                        "Fn::Base64": "#!/bin/bash\napt-get update\napt-get -y upgrade\napt install -y apache2\napt-get install php libapache2-mod-php php-mysql php-curl php-gd php-json php-zip php-mbstring\nservice apache2 restart\napt-get install -y mysql-server\napt install -y apt-transport-https ca-certificates curl software-properties-common\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\nadd-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable\"\napt-get update\napt install -y docker-ce\ndocker pull pdeo2020/awsproject:v06\ndocker run -d --name netflix -p 5000:5000 pdeo2020/awsproject:v06\n"
                    },
                    "TagSpecifications": [
                        {
                            "ResourceType": "instance",
                            "Tags": [
                                {
                                    "Key": "Name",
                                    "Value": "MyApp-EC2-LT02"
                                }
                            ]
                        }
                    ]
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "cf2e1b92-06d1-40e2-bee0-2175bae11241"
                }
            }
        },
        "MyAppASG01": {
            "Type": "AWS::AutoScaling::AutoScalingGroup",
            "Properties": {
                "AutoScalingGroupName": "MyAppASG01",
                "AvailabilityZones": [
                    "us-east-1a"
                ],
                "VPCZoneIdentifier": [
                    {
                        "Ref": "MyAppPublicSubnet1"
                    }
                ],
                "MinSize": "1",
                "MaxSize": "3",
                "DesiredCapacity": "2",
                "HealthCheckGracePeriod": 300,
                "LaunchTemplate": {
                    "LaunchTemplateId": {
                        "Ref": "MyAppLaunchTemplate01"
                    },
                    "Version": {
                        "Fn::GetAtt": [
                            "MyAppLaunchTemplate01",
                            "LatestVersionNumber"
                        ]
                    }
                },
                "TargetGroupARNs": [
                    {
                        "Ref": "MyAppALBTG"
                    }
                ],
                "MetricsCollection": [
                    {
                        "Granularity": "1Minute",
                        "Metrics": [
                            "GroupMinSize",
                            "GroupMaxSize",
                            "GroupDesiredCapacity",
                            "GroupTotalInstances"
                        ]
                    }
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-Public-EC2-ASG01",
                        "PropagateAtLaunch": "true"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "f516fa21-ea5c-4bb9-9ae3-20c13018548d"
                }
            }
        },
        "MyAppASG02": {
            "Type": "AWS::AutoScaling::AutoScalingGroup",
            "Properties": {
                "AutoScalingGroupName": "MyAppASG02",
                "AvailabilityZones": [
                    "us-east-1b"
                ],
                "VPCZoneIdentifier": [
                    {
                        "Ref": "MyAppPublicSubnet2"
                    }
                ],
                "MinSize": "1",
                "MaxSize": "3",
                "DesiredCapacity": "2",
                "HealthCheckGracePeriod": 300,
                "LaunchTemplate": {
                    "LaunchTemplateId": {
                        "Ref": "MyAppLaunchTemplate01"
                    },
                    "Version": {
                        "Fn::GetAtt": [
                            "MyAppLaunchTemplate01",
                            "LatestVersionNumber"
                        ]
                    }
                },
                "TargetGroupARNs": [
                    {
                        "Ref": "MyAppALBTG"
                    }
                ],
                "MetricsCollection": [
                    {
                        "Granularity": "1Minute",
                        "Metrics": [
                            "GroupMinSize",
                            "GroupMaxSize",
                            "GroupDesiredCapacity",
                            "GroupTotalInstances"
                        ]
                    }
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-Public-EC2-ASG02",
                        "PropagateAtLaunch": "true"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "b5d2999f-a81e-4341-97d2-00b81faf0988"
                }
            }
        },
        "MyAppASG03": {
            "Type": "AWS::AutoScaling::AutoScalingGroup",
            "Properties": {
                "AutoScalingGroupName": "MyAppASG03",
                "AvailabilityZones": [
                    "us-east-1a"
                ],
                "VPCZoneIdentifier": [
                    {
                        "Ref": "MyAppPrivateSubnet1"
                    }
                ],
                "MinSize": "1",
                "MaxSize": "3",
                "DesiredCapacity": "2",
                "HealthCheckGracePeriod": 300,
                "LaunchTemplate": {
                    "LaunchTemplateId": {
                        "Ref": "MyAppLaunchTemplate02"
                    },
                    "Version": {
                        "Fn::GetAtt": [
                            "MyAppLaunchTemplate02",
                            "LatestVersionNumber"
                        ]
                    }
                },
                "TargetGroupARNs": [
                    {
                        "Ref": "MyAppALBTG"
                    }
                ],
                "MetricsCollection": [
                    {
                        "Granularity": "1Minute",
                        "Metrics": [
                            "GroupMinSize",
                            "GroupMaxSize",
                            "GroupDesiredCapacity",
                            "GroupTotalInstances"
                        ]
                    }
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-Private-EC2-ASG03",
                        "PropagateAtLaunch": "true"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "6ec39f4f-94a1-4d44-bd16-24435e0a15a0"
                }
            }
        },
        "MyAppASG04": {
            "Type": "AWS::AutoScaling::AutoScalingGroup",
            "Properties": {
                "AutoScalingGroupName": "MyAppASG04",
                "AvailabilityZones": [
                    "us-east-1b"
                ],
                "VPCZoneIdentifier": [
                    {
                        "Ref": "MyAppPrivateSubnet3"
                    }
                ],
                "MinSize": "1",
                "MaxSize": "3",
                "DesiredCapacity": "2",
                "HealthCheckGracePeriod": 300,
                "LaunchTemplate": {
                    "LaunchTemplateId": {
                        "Ref": "MyAppLaunchTemplate02"
                    },
                    "Version": {
                        "Fn::GetAtt": [
                            "MyAppLaunchTemplate02",
                            "LatestVersionNumber"
                        ]
                    }
                },
                "TargetGroupARNs": [
                    {
                        "Ref": "MyAppALBTG"
                    }
                ],
                "MetricsCollection": [
                    {
                        "Granularity": "1Minute",
                        "Metrics": [
                            "GroupMinSize",
                            "GroupMaxSize",
                            "GroupDesiredCapacity",
                            "GroupTotalInstances"
                        ]
                    }
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-Private-EC2-ASG04",
                        "PropagateAtLaunch": "true"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "b894c695-0039-4869-8f43-87a2244746a5"
                }
            }
        },
        "MyAppRDSSG": {
            "Type": "AWS::RDS::DBSecurityGroup",
            "Properties": {
                "GroupDescription": "Security Group for RDS Instance",
                "EC2VpcId": {
                    "Ref": "MyAppVPC"
                },
                "DBSecurityGroupIngress": {
                    "EC2SecurityGroupId": {
                        "Ref": "WebServerSecurityGroup"
                    }
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-RDS-SG"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "5583cc29-ab22-4867-a3e5-646b4ec73ecc"
                }
            }
        },
        "MyAppDBSubnetGroup01": {
            "Type": "AWS::RDS::DBSubnetGroup",
            "Properties": {
                "DBSubnetGroupDescription": "Subnet Group 01 for RDS-MySQL database",
                "SubnetIds": [
                    {
                        "Ref": "MyAppPrivateSubnet1"
                    },
                    {
                        "Ref": "MyAppPrivateSubnet3"
                    }
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-RDS-SubnetGroup01"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3749767b-6d3e-415d-b436-fa4aafc1b7bb"
                }
            }
        },
        "MyAppDBSubnetGroup02": {
            "Type": "AWS::RDS::DBSubnetGroup",
            "Properties": {
                "DBSubnetGroupDescription": "Subnet Group 02 for RDS-MySQL database",
                "SubnetIds": [
                    {
                        "Ref": "MyAppPrivateSubnet2"
                    },
                    {
                        "Ref": "MyAppPrivateSubnet4"
                    }
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-RDS-SubnetGroup02"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "248bbee0-39b5-459d-9b18-ea3019f2cdb2"
                }
            }
        },
        "MyAppDatabase01": {
            "Type": "AWS::RDS::DBInstance",
            "Properties": {
                "DBName": {
                    "Ref": "DBName"
                },
                "DBInstanceIdentifier": {
                    "Ref": "DBInstanceID01"
                },
                "MultiAZ": false,
                "DBSubnetGroupName": {
                    "Ref": "MyAppDBSubnetGroup01"
                },
                "PubliclyAccessible": true,
                "AllocatedStorage": "5",
                "DBInstanceClass": "db.t2.micro",
                "Engine": "MySQL",
                "StorageType": "io1",
                "Port": 3306,
                "MonitoringInterval": "60",
                "MonitoringRoleArn": "arn:aws:iam::111330348485:role/rds-monitoring-role",
                "MasterUsername": "admin",
                "MasterUserPassword": "admin123",
                "DBSecurityGroups": [
                    {
                        "Ref": "MyAppRDSSG"
                    }
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-RDS01"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "99835222-9b44-4a5b-a4dd-740fcfc81385"
                }
            }
        },
        "MyAppDatabase02": {
            "Type": "AWS::RDS::DBInstance",
            "Properties": {
                "DBName": {
                    "Ref": "DBName"
                },
                "DBInstanceIdentifier": {
                    "Ref": "DBInstanceID02"
                },
                "MultiAZ": false,
                "DBSubnetGroupName": {
                    "Ref": "MyAppDBSubnetGroup02"
                },
                "PubliclyAccessible": true,
                "AllocatedStorage": "5",
                "DBInstanceClass": "db.t2.micro",
                "Engine": "MySQL",
                "StorageType": "io1",
                "Port": 3306,
                "MonitoringInterval": "60",
                "MonitoringRoleArn": "arn:aws:iam::111330348485:role/rds-monitoring-role",
                "MasterUsername": "admin",
                "MasterUserPassword": "admin123",
                "DBSecurityGroups": [
                    {
                        "Ref": "MyAppRDSSG"
                    }
                ],
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-RDS02"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "4be99594-27b5-4fd2-a183-cf59f80f9270"
                }
            }
        },
        "MyAppALBSecurityGroup": {
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": {
                "GroupDescription": "Security Group for Netflix ALB",
                "GroupName": "MyApp-Netflix-ALB-SG",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-Netflix-ALB-SG"
                    }
                ],
                "VpcId": {
                    "Ref": "MyAppVPC"
                },
                "SecurityGroupIngress": [
                    {
                        "CidrIp": "0.0.0.0/0",
                        "FromPort": 80,
                        "IpProtocol": "tcp",
                        "ToPort": 80
                    },
                    {
                        "CidrIp": "0.0.0.0/0",
                        "FromPort": 5000,
                        "IpProtocol": "tcp",
                        "ToPort": 5000
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "c83e2174-42ce-45d2-b20e-4e109a382068"
                }
            }
        },
        "MyAppALBTG": {
            "Type": "AWS::ElasticLoadBalancingV2::TargetGroup",
            "Properties": {
                "HealthCheckIntervalSeconds": 30,
                "HealthCheckPath": "/",
                "Port": 5000,
                "Protocol": "HTTP",
                "HealthCheckPort": "traffic-port",
                "HealthCheckProtocol": "HTTP",
                "HealthCheckTimeoutSeconds": 5,
                "UnhealthyThresholdCount": 2,
                "TargetType": "instance",
                "Matcher": {
                    "HttpCode": 200
                },
                "HealthyThresholdCount": 5,
                "VpcId": {
                    "Ref": "MyAppVPC"
                },
                "Name": "MyAppALBTG",
                "HealthCheckEnabled": true,
                "TargetGroupAttributes": [
                    {
                        "Key": "stickiness.enabled",
                        "Value": "false"
                    },
                    {
                        "Key": "deregistration_delay.timeout_seconds",
                        "Value": "300"
                    },
                    {
                        "Key": "stickiness.type",
                        "Value": "lb_cookie"
                    },
                    {
                        "Key": "stickiness.lb_cookie.duration_seconds",
                        "Value": "86400"
                    },
                    {
                        "Key": "slow_start.duration_seconds",
                        "Value": "0"
                    },
                    {
                        "Key": "load_balancing.algorithm.type",
                        "Value": "round_robin"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "651c1d6f-9205-4896-a919-39a01833615f"
                }
            }
        },
        "MyAppALB": {
            "Type": "AWS::ElasticLoadBalancingV2::LoadBalancer",
            "Properties": {
                "Name": "MyApp-Netflix-ALB",
                "Scheme": "internet-facing",
                "Type": "application",
                "Subnets": [
                    {
                        "Ref": "MyAppPrivateSubnet1"
                    },
                    {
                        "Ref": "MyAppPrivateSubnet3"
                    }
                ],
                "SecurityGroups": [
                    {
                        "Ref": "MyAppALBSecurityGroup"
                    }
                ],
                "IpAddressType": "ipv4",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "MyApp-Netflix-ALB"
                    }
                ],
                "LoadBalancerAttributes": [
                    {
                        "Key": "access_logs.s3.enabled",
                        "Value": "false"
                    },
                    {
                        "Key": "idle_timeout.timeout_seconds",
                        "Value": "60"
                    },
                    {
                        "Key": "deletion_protection.enabled",
                        "Value": "false"
                    },
                    {
                        "Key": "routing.http2.enabled",
                        "Value": "true"
                    },
                    {
                        "Key": "routing.http.drop_invalid_header_fields.enabled",
                        "Value": "false"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "9a5ecdbb-a8e6-4e14-a37d-8f824c1a2c6a"
                }
            }
        },
        "MyAppHTTPListener01": {
            "Type": "AWS::ElasticLoadBalancingV2::Listener",
            "Properties": {
                "LoadBalancerArn": {
                    "Ref": "MyAppALB"
                },
                "Port": 5000,
                "Protocol": "HTTP",
                "DefaultActions": [
                    {
                        "Type": "forward",
                        "TargetGroupArn": {
                            "Ref": "MyAppALBTG"
                        }
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "7885f9d4-bace-4b17-be76-f4e5262742b2"
                }
            }
        },
        "MyAppHTTPListener02": {
            "Type": "AWS::ElasticLoadBalancingV2::Listener",
            "Properties": {
                "LoadBalancerArn": {
                    "Ref": "MyAppALB"
                },
                "Port": 80,
                "Protocol": "HTTP",
                "DefaultActions": [
                    {
                        "Type": "forward",
                        "TargetGroupArn": {
                            "Ref": "MyAppALBTG"
                        }
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "9e6968eb-a97f-4a69-aec5-0b3a2a0e2c43"
                }
            }
        },
        "MyAppS3Bucket": {
            "Type": "AWS::S3::Bucket",
            "DeletionPolicy": "Delete",
            "Properties": {
                "BucketName": {
                    "Ref": "MyBucketName"
                },
                "PublicAccessBlockConfiguration": {
                    "BlockPublicAcls": false,
                    "BlockPublicPolicy": false,
                    "IgnorePublicAcls": false,
                    "RestrictPublicBuckets": false
                },
                "AccessControl": "PublicReadWrite",
                "VersioningConfiguration": {
                    "Status": "Suspended"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "a80428c9-2946-4bf0-8d71-0bd37234a54e"
                }
            }
        },
        "MyAppBucketPolicy": {
            "Type": "AWS::S3::BucketPolicy",
            "Properties": {
                "PolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                        {
                            "Sid": "S3FullAccess",
                            "Effect": "Allow",
                            "Principal": "*",
                            "Action": "s3:*",
                            "Resource": {
                                "Fn::Join": [
                                    "",
                                    [
                                        "arn:aws:s3:::",
                                        {
                                            "Ref": "MyAppS3Bucket"
                                        },
                                        "/*"
                                    ]
                                ]
                            }
                        }
                    ]
                },
                "Bucket": {
                    "Ref": "MyAppS3Bucket"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "529b4f6e-cdcb-48ac-a8fb-70d206407bf8"
                }
            }
        },
        "MyAppBillingAlarm": {
            "Type": "AWS::CloudWatch::Alarm",
            "Properties": {
                "ActionsEnabled": true,
                "AlarmActions": [
                    {
                        "Ref": "MyAppTopic"
                    }
                ],
                "AlarmDescription": "Billing Alarm for the Account",
                "ComparisonOperator": "GreaterThanOrEqualToThreshold",
                "Dimensions": [
                    {
                        "Name": "Currency",
                        "Value": "USD"
                    }
                ],
                "EvaluationPeriods": 1,
                "MetricName": "EstimatedCharges",
                "Namespace": "AWS/Billing",
                "OKActions": [
                    {
                        "Ref": "MyAppTopic"
                    }
                ],
                "Period": 3600,
                "Statistic": "Maximum",
                "Threshold": {
                    "Ref": "BillingThreshold"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "1d6dcb2d-719a-4f6c-af87-112b9030c6c0"
                }
            }
        },
        "MyAppASG03Alarm": {
            "Type": "AWS::CloudWatch::Alarm",
            "Properties": {
                "AlarmDescription": "ASG03 CPU, Memory and Network Utilization",
                "Metrics": [
                    {
                        "Id": "summary",
                        "Label": "ASG03 - EC2 Utilization",
                        "Expression": "IF(cpu > 70, 1, 0) OR IF(memory > 75, 1, 0) OR IF(network > 80, 1, 0)",
                        "ReturnData": true
                    },
                    {
                        "Id": "cpu",
                        "MetricStat": {
                            "Metric": {
                                "Namespace": "AWS/EC2",
                                "MetricName": "CPUUtilization",
                                "Dimensions": [
                                    {
                                        "Name": "AutoScalingGroupName",
                                        "Value": {
                                            "Ref": "MyAppASG03"
                                        }
                                    }
                                ]
                            },
                            "Stat": "Maximum",
                            "Period": 120
                        },
                        "ReturnData": false
                    },
                    {
                        "Id": "memory",
                        "Label": "ASG03 - Memory Utilization",
                        "MetricStat": {
                            "Metric": {
                                "Namespace": "CWAgent",
                                "MetricName": "mem_used_percent",
                                "Dimensions": [
                                    {
                                        "Name": "AutoScalingGroupName",
                                        "Value": {
                                            "Ref": "MyAppASG03"
                                        }
                                    }
                                ]
                            },
                            "Stat": "Maximum",
                            "Period": 120
                        },
                        "ReturnData": false
                    },
                    {
                        "Id": "network",
                        "Label": "ASG03 - Network Utilization",
                        "Expression": "((network_in+network_out)/300/1000/1000/1000*8)/0.75*100",
                        "ReturnData": false
                    },
                    {
                        "Id": "network_in",
                        "MetricStat": {
                            "Metric": {
                                "Namespace": "AWS/EC2",
                                "MetricName": "NetworkIn",
                                "Dimensions": [
                                    {
                                        "Name": "AutoScalingGroupName",
                                        "Value": {
                                            "Ref": "MyAppASG03"
                                        }
                                    }
                                ]
                            },
                            "Stat": "Sum",
                            "Period": 120
                        },
                        "ReturnData": false
                    },
                    {
                        "Id": "network_out",
                        "MetricStat": {
                            "Metric": {
                                "Namespace": "AWS/EC2",
                                "MetricName": "NetworkOut",
                                "Dimensions": [
                                    {
                                        "Name": "AutoScalingGroupName",
                                        "Value": {
                                            "Ref": "MyAppASG03"
                                        }
                                    }
                                ]
                            },
                            "Stat": "Sum",
                            "Period": 120
                        },
                        "ReturnData": false
                    }
                ],
                "ComparisonOperator": "GreaterThanOrEqualToThreshold",
                "TreatMissingData": "missing",
                "EvaluationPeriods": 1,
                "DatapointsToAlarm": 1,
                "Threshold": "1"
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "af0a5829-b920-47ac-9010-303c26d32ed8"
                }
            }
        },
        "MyAppASG04Alarm": {
            "Type": "AWS::CloudWatch::Alarm",
            "Properties": {
                "AlarmDescription": "ASG04 CPU, Memory and Network Utilization",
                "Metrics": [
                    {
                        "Id": "summary",
                        "Label": "ASG04 - EC2 Utilization",
                        "Expression": "IF(cpu > 70, 1, 0) OR IF(memory > 75, 1, 0) OR IF(network > 80, 1, 0)",
                        "ReturnData": true
                    },
                    {
                        "Id": "cpu",
                        "MetricStat": {
                            "Metric": {
                                "Namespace": "AWS/EC2",
                                "MetricName": "CPUUtilization",
                                "Dimensions": [
                                    {
                                        "Name": "AutoScalingGroupName",
                                        "Value": {
                                            "Ref": "MyAppASG04"
                                        }
                                    }
                                ]
                            },
                            "Stat": "Maximum",
                            "Period": 120
                        },
                        "ReturnData": false
                    },
                    {
                        "Id": "memory",
                        "Label": "ASG04 - Memory Utilization",
                        "MetricStat": {
                            "Metric": {
                                "Namespace": "CWAgent",
                                "MetricName": "mem_used_percent",
                                "Dimensions": [
                                    {
                                        "Name": "AutoScalingGroupName",
                                        "Value": {
                                            "Ref": "MyAppASG04"
                                        }
                                    }
                                ]
                            },
                            "Stat": "Maximum",
                            "Period": 120
                        },
                        "ReturnData": false
                    },
                    {
                        "Id": "network",
                        "Label": "ASG04 - Network Utilization",
                        "Expression": "((network_in+network_out)/300/1000/1000/1000*8)/0.75*100",
                        "ReturnData": false
                    },
                    {
                        "Id": "network_in",
                        "MetricStat": {
                            "Metric": {
                                "Namespace": "AWS/EC2",
                                "MetricName": "NetworkIn",
                                "Dimensions": [
                                    {
                                        "Name": "AutoScalingGroupName",
                                        "Value": {
                                            "Ref": "MyAppASG04"
                                        }
                                    }
                                ]
                            },
                            "Stat": "Sum",
                            "Period": 120
                        },
                        "ReturnData": false
                    },
                    {
                        "Id": "network_out",
                        "MetricStat": {
                            "Metric": {
                                "Namespace": "AWS/EC2",
                                "MetricName": "NetworkOut",
                                "Dimensions": [
                                    {
                                        "Name": "AutoScalingGroupName",
                                        "Value": {
                                            "Ref": "MyAppASG04"
                                        }
                                    }
                                ]
                            },
                            "Stat": "Sum",
                            "Period": 120
                        },
                        "ReturnData": false
                    }
                ],
                "ComparisonOperator": "GreaterThanOrEqualToThreshold",
                "TreatMissingData": "missing",
                "EvaluationPeriods": 1,
                "DatapointsToAlarm": 1,
                "Threshold": "1"
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "9b72e6c5-87c7-4292-b21e-bc7043c37f86"
                }
            }
        },
        "MyAppALBAlarm": {
            "Type": "AWS::CloudWatch::Alarm",
            "Properties": {
                "AlarmDescription": "ALB Scale Up Alarm",
                "MetricName": "RequestCount",
                "Namespace": "AWS/ApplicationELB",
                "Statistic": "Sum",
                "Period": 120,
                "EvaluationPeriods": 1,
                "TreatMissingData": "missing",
                "Threshold": 20,
                "Dimensions": [
                    {
                        "Name": "LoadBalancer",
                        "Value": {
                            "Fn::GetAtt": [
                                "MyAppALB",
                                "LoadBalancerFullName"
                            ]
                        }
                    }
                ],
                "ComparisonOperator": "GreaterThanOrEqualToThreshold"
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "ec6db167-ad27-4dff-963a-fe436bfd1dfe"
                }
            }
        },
        "MyAppTopic": {
            "Type": "AWS::SNS::Topic",
            "Properties": {
                "DisplayName": {
                    "Fn::Sub": "Billing Alert for ${AccountHolder} Account"
                },
                "Subscription": [
                    {
                        "Protocol": "email",
                        "Endpoint": {
                            "Ref": "AccHolderEmailID"
                        }
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "e6cf18e9-ef3c-4f46-bf0d-4cdac9828957"
                }
            }
        }
    },
    "Outputs": {
        "MyWebServerSecGroup": {
            "Description": "Reference to the created WebServerSecurityGroup",
            "Value": {
                "Ref": "WebServerSecurityGroup"
            }
        },
        "MyAppIAMRole": {
            "Description": "Reference to the created IAM Role",
            "Value": {
                "Ref": "MyAppIAMRole"
            }
        },
        "MyAppVPC": {
            "Description": "Reference to the created VPC",
            "Value": {
                "Ref": "MyAppVPC"
            }
        },
        "MyAppPublicSubnet1": {
            "Description": "Reference to the public subnet 01",
            "Value": {
                "Ref": "MyAppPublicSubnet1"
            }
        },
        "MyAppPublicSubnet2": {
            "Description": "Reference to the public subnet 02",
            "Value": {
                "Ref": "MyAppPublicSubnet2"
            }
        },
        "MyAppPrivateSubnet1": {
            "Description": "Reference to the private subnet 01",
            "Value": {
                "Ref": "MyAppPrivateSubnet1"
            }
        },
        "MyAppPrivateSubnet2": {
            "Description": "Reference to the private subnet 02",
            "Value": {
                "Ref": "MyAppPrivateSubnet2"
            }
        },
        "MyAppPrivateSubnet3": {
            "Description": "Reference to the private subnet 03",
            "Value": {
                "Ref": "MyAppPrivateSubnet3"
            }
        },
        "MyAppPrivateSubnet4": {
            "Description": "Reference to the private subnet 04",
            "Value": {
                "Ref": "MyAppPrivateSubnet4"
            }
        },
        "MyAppIG": {
            "Description": "Reference to the Internet Gateway",
            "Value": {
                "Ref": "MyAppInternetGateway"
            }
        },
        "MyAppVPCGateWayAtt": {
            "Description": "Reference to the VPC Gateway Attachment",
            "Value": {
                "Ref": "MyAppVPCGatewayAtt"
            }
        },
        "MyAppPublicRouteTable": {
            "Description": "Reference to the Public Route Table",
            "Value": {
                "Ref": "MyAppPublicRouteTable"
            }
        },
        "MyAppPublicRoute": {
            "Description": "Reference to the Public Route Table",
            "Value": {
                "Ref": "MyAppPublicRoute"
            }
        },
        "PublicSubnet1RouteTableAssociation": {
            "Description": "Reference to the Public Subnet 1 Route Table Assoc.",
            "Value": {
                "Ref": "PublicSubnet1RouteTableAssociation"
            }
        },
        "PublicSubnet2RouteTableAssociation": {
            "Description": "Reference to the Public Subnet 2 Route Table Assoc.",
            "Value": {
                "Ref": "PublicSubnet2RouteTableAssociation"
            }
        },
        "MyAppDBSubnetGroup": {
            "Description": "DB subnet group name",
            "Value": {
                "Ref": "MyAppDBSubnetGroup01"
            }
        },
        "MyAppLaunchTemplate01": {
            "Description": "Reference to the Launch Template 01",
            "Value": {
                "Ref": "MyAppLaunchTemplate01"
            }
        },
        "MyAppLaunchTemplate02": {
            "Description": "Reference to the Launch Template 02",
            "Value": {
                "Ref": "MyAppLaunchTemplate02"
            }
        },
        "MyAppASG01": {
            "Description": "Auto-Scaling Group 01",
            "Value": {
                "Ref": "MyAppASG01"
            }
        },
        "MyAppASG02": {
            "Description": "Auto-Scaling Group 02",
            "Value": {
                "Ref": "MyAppASG02"
            }
        },
        "MyAppASG03": {
            "Description": "Auto-Scaling Group 03",
            "Value": {
                "Ref": "MyAppASG03"
            }
        },
        "MyAppASG04": {
            "Description": "Auto-Scaling Group 04",
            "Value": {
                "Ref": "MyAppASG04"
            }
        },
        "MyRDS01": {
            "Description": "RDS-DB 01",
            "Value": {
                "Ref": "MyAppDatabase01"
            }
        },
        "MyRDS02": {
            "Description": "RDS-DB 02",
            "Value": {
                "Ref": "MyAppDatabase02"
            }
        },
        "ALB": {
            "Description": "MyApp-Netflix Application Load Balancer",
            "Value": {
                "Ref": "MyAppALB"
            }
        },
        "ALBUrl": {
            "Description": "The URL of our Netflix-ALB",
            "Value": {
                "Fn::GetAtt": [
                    "MyAppALB",
                    "DNSName"
                ]
            }
        },
        "ALBTargetGroup": {
            "Description": "MyApp-Netflix-ALB-TG",
            "Value": {
                "Ref": "MyAppALBTG"
            }
        },
        "ALBSG": {
            "Description": "Security group for the ALB",
            "Value": {
                "Ref": "MyAppALBSecurityGroup"
            }
        },
        "MyAppBillingAlarm": {
            "Description": "Alarms for MyApp",
            "Value": {
                "Ref": "MyAppBillingAlarm"
            }
        },
        "MyAppALBAlarm": {
            "Description": "Alarm for ALB",
            "Value": {
                "Ref": "MyAppALBAlarm"
            }
        },
        "MyAppASG03Alarm": {
            "Description": "Alarm for ASG03",
            "Value": {
                "Ref": "MyAppASG03Alarm"
            }
        },
        "MyAppASG04Alarm": {
            "Description": "Alarm for ASG04",
            "Value": {
                "Ref": "MyAppASG04Alarm"
            }
        },
        "AccountHolder": {
            "Description": "Account Holder Name",
            "Value": {
                "Ref": "AccountHolder"
            }
        },
        "AccountHolderEmailID": {
            "Description": "Account Holder Email",
            "Value": {
                "Ref": "AccHolderEmailID"
            }
        },
        "MyAppS3": {
            "Description": "S3 Resource",
            "Value": {
                "Ref": "MyAppS3Bucket"
            }
        }
    },
    "Metadata": {
        "AWS::CloudFormation::Designer": {
            "e6cf18e9-ef3c-4f46-bf0d-4cdac9828957": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1080,
                    "y": 90
                },
                "z": 1,
                "embeds": []
            },
            "1d6dcb2d-719a-4f6c-af87-112b9030c6c0": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1200,
                    "y": 90
                },
                "z": 1,
                "embeds": []
            },
            "a80428c9-2946-4bf0-8d71-0bd37234a54e": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1080,
                    "y": 210
                },
                "z": 1,
                "embeds": []
            },
            "529b4f6e-cdcb-48ac-a8fb-70d206407bf8": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1200,
                    "y": 210
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "a80428c9-2946-4bf0-8d71-0bd37234a54e"
                ]
            },
            "0935690f-44b1-488f-bb9f-b768e12e723d": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1080,
                    "y": 330
                },
                "z": 1,
                "embeds": []
            },
            "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255": {
                "size": {
                    "width": 960,
                    "height": 870
                },
                "position": {
                    "x": 60,
                    "y": 90
                },
                "z": 1,
                "embeds": [
                    "651c1d6f-9205-4896-a919-39a01833615f",
                    "c83e2174-42ce-45d2-b20e-4e109a382068",
                    "7a182726-16af-48bc-9ed0-e15de69fa219",
                    "f20856d5-e0d2-458e-ac65-9e2345befa6f",
                    "a8ecdd0b-2da7-4640-af72-62bb77de5343",
                    "7f106419-9744-4f5a-9bcd-86be120efaf3",
                    "40d33314-30f1-49be-9b89-3276c85adab0",
                    "7f88c590-df98-40b8-a8c6-523449a64a78",
                    "5aabf9b2-eb28-46fe-9d37-1bea05d67ca9",
                    "73452c8c-5524-4645-96da-3c168f794179",
                    "5583cc29-ab22-4867-a3e5-646b4ec73ecc",
                    "f87c6662-e011-4a63-b6e4-e635179fd965"
                ]
            },
            "651c1d6f-9205-4896-a919-39a01833615f": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 90,
                    "y": 750
                },
                "z": 2,
                "parent": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255",
                "embeds": [],
                "iscontainedinside": [
                    "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                ]
            },
            "c83e2174-42ce-45d2-b20e-4e109a382068": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 210,
                    "y": 750
                },
                "z": 2,
                "parent": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255",
                "embeds": [],
                "iscontainedinside": [
                    "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                ]
            },
            "7a182726-16af-48bc-9ed0-e15de69fa219": {
                "size": {
                    "width": 240,
                    "height": 240
                },
                "position": {
                    "x": 690,
                    "y": 150
                },
                "z": 2,
                "parent": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255",
                "embeds": [
                    "fe902cd8-6e85-4377-a9b9-5f0fd3b7b48a"
                ],
                "iscontainedinside": [
                    "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                ]
            },
            "995b0632-440d-4f3a-998a-cb3368487300": {
                "source": {
                    "id": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                },
                "target": {
                    "id": "0935690f-44b1-488f-bb9f-b768e12e723d"
                }
            },
            "fe902cd8-6e85-4377-a9b9-5f0fd3b7b48a": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 720,
                    "y": 210
                },
                "z": 3,
                "parent": "7a182726-16af-48bc-9ed0-e15de69fa219",
                "embeds": [],
                "isassociatedwith": [
                    "0935690f-44b1-488f-bb9f-b768e12e723d"
                ],
                "iscontainedinside": [
                    "7a182726-16af-48bc-9ed0-e15de69fa219"
                ],
                "dependson": [
                    "995b0632-440d-4f3a-998a-cb3368487300"
                ]
            },
            "f20856d5-e0d2-458e-ac65-9e2345befa6f": {
                "size": {
                    "width": 150,
                    "height": 150
                },
                "position": {
                    "x": 690,
                    "y": 660
                },
                "z": 2,
                "parent": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255",
                "embeds": [],
                "iscontainedinside": [
                    "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                ]
            },
            "a8ecdd0b-2da7-4640-af72-62bb77de5343": {
                "size": {
                    "width": 240,
                    "height": 240
                },
                "position": {
                    "x": 390,
                    "y": 450
                },
                "z": 2,
                "parent": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255",
                "embeds": [
                    "b894c695-0039-4869-8f43-87a2244746a5"
                ],
                "iscontainedinside": [
                    "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                ]
            },
            "cb9d8afc-f1a0-417b-b36f-d430a66f60eb": {
                "source": {
                    "id": "7a182726-16af-48bc-9ed0-e15de69fa219"
                },
                "target": {
                    "id": "a8ecdd0b-2da7-4640-af72-62bb77de5343"
                }
            },
            "7f106419-9744-4f5a-9bcd-86be120efaf3": {
                "size": {
                    "width": 150,
                    "height": 150
                },
                "position": {
                    "x": 690,
                    "y": 450
                },
                "z": 2,
                "parent": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255",
                "embeds": [],
                "iscontainedinside": [
                    "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                ]
            },
            "248bbee0-39b5-459d-9b18-ea3019f2cdb2": {
                "size": {
                    "width": 240,
                    "height": 240
                },
                "position": {
                    "x": 360,
                    "y": 1020
                },
                "z": 1,
                "embeds": [
                    "4be99594-27b5-4fd2-a183-cf59f80f9270"
                ],
                "iscontainedinside": [
                    "7f106419-9744-4f5a-9bcd-86be120efaf3",
                    "f20856d5-e0d2-458e-ac65-9e2345befa6f"
                ]
            },
            "40d33314-30f1-49be-9b89-3276c85adab0": {
                "size": {
                    "width": 240,
                    "height": 240
                },
                "position": {
                    "x": 90,
                    "y": 450
                },
                "z": 2,
                "parent": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255",
                "embeds": [
                    "6ec39f4f-94a1-4d44-bd16-24435e0a15a0"
                ],
                "iscontainedinside": [
                    "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                ]
            },
            "9a5ecdbb-a8e6-4e14-a37d-8f824c1a2c6a": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1200,
                    "y": 330
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "c83e2174-42ce-45d2-b20e-4e109a382068"
                ],
                "iscontainedinside": [
                    "40d33314-30f1-49be-9b89-3276c85adab0",
                    "a8ecdd0b-2da7-4640-af72-62bb77de5343"
                ]
            },
            "ec6db167-ad27-4dff-963a-fe436bfd1dfe": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1080,
                    "y": 450
                },
                "z": 1,
                "embeds": []
            },
            "9e6968eb-a97f-4a69-aec5-0b3a2a0e2c43": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1200,
                    "y": 450
                },
                "z": 1,
                "embeds": []
            },
            "7885f9d4-bace-4b17-be76-f4e5262742b2": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1080,
                    "y": 570
                },
                "z": 1,
                "embeds": []
            },
            "3749767b-6d3e-415d-b436-fa4aafc1b7bb": {
                "size": {
                    "width": 240,
                    "height": 240
                },
                "position": {
                    "x": 60,
                    "y": 1020
                },
                "z": 1,
                "embeds": [
                    "99835222-9b44-4a5b-a4dd-740fcfc81385"
                ],
                "iscontainedinside": [
                    "40d33314-30f1-49be-9b89-3276c85adab0",
                    "a8ecdd0b-2da7-4640-af72-62bb77de5343"
                ]
            },
            "0ba59ff7-5081-4e36-a529-2bbd0fe5776c": {
                "source": {
                    "id": "7a182726-16af-48bc-9ed0-e15de69fa219"
                },
                "target": {
                    "id": "40d33314-30f1-49be-9b89-3276c85adab0"
                }
            },
            "7f88c590-df98-40b8-a8c6-523449a64a78": {
                "size": {
                    "width": 240,
                    "height": 240
                },
                "position": {
                    "x": 390,
                    "y": 150
                },
                "z": 2,
                "parent": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255",
                "embeds": [
                    "b5d2999f-a81e-4341-97d2-00b81faf0988"
                ],
                "iscontainedinside": [
                    "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                ]
            },
            "87634953-707b-4ece-8497-01857875a50c": {
                "source": {
                    "id": "7a182726-16af-48bc-9ed0-e15de69fa219"
                },
                "target": {
                    "id": "7f88c590-df98-40b8-a8c6-523449a64a78"
                }
            },
            "5aabf9b2-eb28-46fe-9d37-1bea05d67ca9": {
                "size": {
                    "width": 240,
                    "height": 240
                },
                "position": {
                    "x": 90,
                    "y": 150
                },
                "z": 2,
                "parent": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255",
                "embeds": [
                    "f516fa21-ea5c-4bb9-9ae3-20c13018548d"
                ],
                "iscontainedinside": [
                    "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                ]
            },
            "6895df54-7abc-44e8-92dd-9c64ebad87e3": {
                "source": {
                    "id": "7a182726-16af-48bc-9ed0-e15de69fa219"
                },
                "target": {
                    "id": "5aabf9b2-eb28-46fe-9d37-1bea05d67ca9"
                }
            },
            "ddd82a32-d85d-4a49-bf2f-f6dca60cd4d3": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1200,
                    "y": 570
                },
                "z": 1,
                "embeds": []
            },
            "5e008fcb-1f86-4ced-b5c5-fbd7ccf1b9b1": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1080,
                    "y": 690
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "ddd82a32-d85d-4a49-bf2f-f6dca60cd4d3"
                ]
            },
            "73452c8c-5524-4645-96da-3c168f794179": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 330,
                    "y": 750
                },
                "z": 2,
                "parent": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255",
                "embeds": [],
                "iscontainedinside": [
                    "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                ]
            },
            "5583cc29-ab22-4867-a3e5-646b4ec73ecc": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 450,
                    "y": 750
                },
                "z": 2,
                "parent": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255",
                "embeds": [],
                "iscontainedinside": [
                    "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                ]
            },
            "4be99594-27b5-4fd2-a183-cf59f80f9270": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 390,
                    "y": 1080
                },
                "z": 2,
                "parent": "248bbee0-39b5-459d-9b18-ea3019f2cdb2",
                "embeds": [],
                "isassociatedwith": [
                    "5583cc29-ab22-4867-a3e5-646b4ec73ecc"
                ],
                "iscontainedinside": [
                    "248bbee0-39b5-459d-9b18-ea3019f2cdb2"
                ]
            },
            "99835222-9b44-4a5b-a4dd-740fcfc81385": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 90,
                    "y": 1080
                },
                "z": 2,
                "parent": "3749767b-6d3e-415d-b436-fa4aafc1b7bb",
                "embeds": [],
                "isassociatedwith": [
                    "5583cc29-ab22-4867-a3e5-646b4ec73ecc"
                ],
                "iscontainedinside": [
                    "3749767b-6d3e-415d-b436-fa4aafc1b7bb"
                ]
            },
            "cf2e1b92-06d1-40e2-bee0-2175bae11241": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1200,
                    "y": 690
                },
                "z": 1,
                "embeds": []
            },
            "b894c695-0039-4869-8f43-87a2244746a5": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 420,
                    "y": 510
                },
                "z": 3,
                "parent": "a8ecdd0b-2da7-4640-af72-62bb77de5343",
                "embeds": [],
                "isassociatedwith": [
                    "651c1d6f-9205-4896-a919-39a01833615f"
                ],
                "iscontainedinside": [
                    "a8ecdd0b-2da7-4640-af72-62bb77de5343"
                ]
            },
            "9b72e6c5-87c7-4292-b21e-bc7043c37f86": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1080,
                    "y": 810
                },
                "z": 1,
                "embeds": []
            },
            "6ec39f4f-94a1-4d44-bd16-24435e0a15a0": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 120,
                    "y": 510
                },
                "z": 3,
                "parent": "40d33314-30f1-49be-9b89-3276c85adab0",
                "embeds": [],
                "isassociatedwith": [
                    "651c1d6f-9205-4896-a919-39a01833615f"
                ],
                "iscontainedinside": [
                    "40d33314-30f1-49be-9b89-3276c85adab0"
                ]
            },
            "af0a5829-b920-47ac-9010-303c26d32ed8": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1200,
                    "y": 810
                },
                "z": 1,
                "embeds": []
            },
            "f87c6662-e011-4a63-b6e4-e635179fd965": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 570,
                    "y": 750
                },
                "z": 2,
                "parent": "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255",
                "embeds": [],
                "iscontainedinside": [
                    "1c0d4dcf-c645-49c7-a3f1-1daa43d6c255"
                ]
            },
            "0db2cfbc-12f4-41c4-845d-462227997c86": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1080,
                    "y": 930
                },
                "z": 1,
                "embeds": []
            },
            "b5d2999f-a81e-4341-97d2-00b81faf0988": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 420,
                    "y": 210
                },
                "z": 3,
                "parent": "7f88c590-df98-40b8-a8c6-523449a64a78",
                "embeds": [],
                "isassociatedwith": [
                    "651c1d6f-9205-4896-a919-39a01833615f"
                ],
                "iscontainedinside": [
                    "7f88c590-df98-40b8-a8c6-523449a64a78"
                ]
            },
            "f516fa21-ea5c-4bb9-9ae3-20c13018548d": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 120,
                    "y": 210
                },
                "z": 3,
                "parent": "5aabf9b2-eb28-46fe-9d37-1bea05d67ca9",
                "embeds": [],
                "isassociatedwith": [
                    "651c1d6f-9205-4896-a919-39a01833615f"
                ],
                "iscontainedinside": [
                    "5aabf9b2-eb28-46fe-9d37-1bea05d67ca9"
                ]
            },
            "c5cec6ff-71b7-4b32-83b7-5225390c58d5": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1200,
                    "y": 930
                },
                "z": 1,
                "embeds": []
            },
            "ee2d7429-0834-4072-8770-c56db986f9bc": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 660,
                    "y": 1020
                },
                "z": 1,
                "embeds": []
            }
        }
    }
}